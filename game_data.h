#pragma once

#include "block.h"
#include "lineclear.h"
#include "linecollapse.h"
#include "pieceland.h"
#include "piecelock.h"
#include "irs.h"
#include "ready.h"
#include "go.h"
#include "game_types.h"

const float FIELD_X_OFFSET = 16.0f;
const float FIELD_Y_OFFSET = 16.0f * 5.0f;

piece_defs_t ROTATION_STATES = {
    // VOID and X
    {"", "", "", ""},
    {"", "", "", ""},

    // BLOCK_I
    {
        "    "
        "IIII"
        "    "
        "    ",

        "  I "
        "  I "
        "  I "
        "  I ",

        "    "
        "IIII"
        "    "
        "    ",

        "  I "
        "  I "
        "  I "
        "  I ",
    },

    // BLOCK_L
    {
        "    "
        "LLL "
        "L   "
        "    ",

        " L  "
        " L  "
        " LL "
        "    ",

        "    "
        "  L "
        "LLL "
        "    ",

        "LL  "
        " L  "
        " L  "
        "    ",
    },

    // BLOCK_O
    {
        "    "
        " OO "
        " OO "
        "    ",

        "    "
        " OO "
        " OO "
        "    ",

        "    "
        " OO "
        " OO "
        "    ",

        "    "
        " OO "
        " OO "
        "    ",
    },

    // BLOCK_Z
    {
        "    "
        "ZZ  "
        " ZZ "
        "    ",

        "  Z "
        " ZZ "
        " Z  "
        "    ",

        "    "
        "ZZ  "
        " ZZ "
        "    ",

        "  Z "
        " ZZ "
        " Z  "
        "    "
    },

    // BLOCK_T
    {
        "    "
        "TTT "
        " T  "
        "    ",

        " T  "
        " TT "
        " T  "
        "    ",

        "    "
        " T  "
        "TTT "
        "    ",

        " T  "
        "TT  "
        " T  "
        "    "
    },

    // BLOCK_J
    {
        "    "
        "JJJ "
        "  J "
        "    ",

        " JJ "
        " J  "
        " J  "
        "    ",

        "    "
        "J   "
        "JJJ "
        "    ",

        " J  "
        " J  "
        "JJ  "
        "    "
    },


    // BLOCK_S
    {
        "    "
        " SS "
        "SS  "
        "    ",

        "S   "
        "SS  "
        " S  "
        "    ",

        "    "
        " SS "
        "SS  "
        "    ",

        "S   "
        "SS  "
        " S  "
        "    "
    }
};

timing_t game_timing[] = {
    {0,    4,    27, 27, 16, 30, 40},
    {30,   6,    27, 27, 16, 30, 40},
    {35,   8,    27, 27, 16, 30, 40},
    {40,   10,   27, 27, 16, 30, 40},
    {50,   12,   27, 27, 16, 30, 40},
    {60,   16,   27, 27, 16, 30, 40},
    {70,   32,   27, 27, 16, 30, 40},
    {80,   48,   27, 27, 16, 30, 40},
    {90,   64,   27, 27, 16, 30, 40},
    {100,  80,   27, 27, 16, 30, 40},
    {120,  96,   27, 27, 16, 30, 40},
    {140,  112,  27, 27, 16, 30, 40},
    {160,  128,  27, 27, 16, 30, 40},
    {170,  144,  27, 27, 16, 30, 40},
    {200,  4,    27, 27, 16, 30, 40},
    {220,  32,   27, 27, 16, 30, 40},
    {230,  64,   27, 27, 16, 30, 40},
    {233,  96,   27, 27, 16, 30, 40},
    {236,  128,  27, 27, 16, 30, 40},
    {239,  160,  27, 27, 16, 30, 40},
    {243,  192,  27, 27, 16, 30, 40},
    {247,  224,  27, 27, 16, 30, 40},
    {251,  256,  27, 27, 16, 30, 40},
    {300,  512,  27, 27, 16, 30, 40},
    {330,  768,  27, 27, 16, 30, 40},
    {360,  1024, 27, 27, 16, 30, 40},
    {400,  1280, 27, 27, 16, 30, 40},
    {420,  1024, 27, 27, 16, 30, 40},
    {450,  768,  27, 27, 16, 30, 40},
    {500,  5120, 27, 27, 10, 30, 25},
    {601,  5120, 27, 18, 10, 30, 16},
    {701,  5120, 18, 14, 10, 30, 12},
    {801,  5120, 14,  8, 10, 30,  6},
    {901,  5120, 14,  8,  8, 17,  6},
    {1001, 5120,  8,  8,  8, 16,  6},
    {1201, 5120,  7,  7,  8, 15,  5},
    {1501, 5120,  6,  6,  8, 15,  4},
    {2001, 5120,  5,  5,  7, 12,  3},
    {2501, 5120,  5,  5,  6, 10,  3},
    {3001, 5120,  5,  5,  6,  8,  3},
    {-1,   0,     0,  0,  0,  0,  0}
};
